# Deneme Takip Projesi - Kodlama KurallarÄ±

Bu dosya, proje Ã¼zerinde Ã§alÄ±ÅŸan tÃ¼m AI agent'larÄ±nÄ±n uymasÄ± gereken kodlama standartlarÄ±nÄ± iÃ§erir.

## ğŸ¯ Genel Prensipler

- **TutarlÄ±lÄ±k**: TÃ¼m projede aynÄ± pattern'larÄ± ve component'leri kullan
- **Kalite**: Her zaman en gÃ¼ncel best practice'leri uygula
- **AÃ§Ä±klÄ±k**: Kod anlaÅŸÄ±labilir ve maintainable olmalÄ±
- **GÃ¼venlik**: KullanÄ±cÄ± verilerini koru, gÃ¼venli kodlama standartlarÄ±na uy

## ğŸš« ASLA KULLANILMAYACAK PATTERN'LAR

### 1. Native Browser Dialog'larÄ±
âŒ **YAPMA:**
```typescript
alert('Mesaj');
confirm('OnaylÄ±yor musunuz?');
```

âœ… **YAP:**
```typescript
// Toast mesajlar iÃ§in
import { useToast } from '@/hooks/use-toast';
const { toast } = useToast();

toast({
  title: "BaÅŸlÄ±k",
  description: "Mesaj",
  variant: "default" // veya "destructive"
});

// Onay dialog'larÄ± iÃ§in
import { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from '@/components/ui/alert-dialog';

<AlertDialog open={confirmDialog.open} onOpenChange={...}>
  <AlertDialogContent>
    <AlertDialogHeader>
      <AlertDialogTitle>BaÅŸlÄ±k</AlertDialogTitle>
      <AlertDialogDescription>AÃ§Ä±klama</AlertDialogDescription>
    </AlertDialogHeader>
    <AlertDialogFooter>
      <AlertDialogCancel>Ä°ptal</AlertDialogCancel>
      <AlertDialogAction onClick={handleConfirm}>Onayla</AlertDialogAction>
    </AlertDialogFooter>
  </AlertDialogContent>
</AlertDialog>
```

### 2. Native HTML Select
âŒ **YAPMA:**
```typescript
<select onChange={handleChange}>
  <option>SeÃ§enek</option>
</select>
```

âœ… **YAP:**
```typescript
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';

<Select value={value} onValueChange={setValue}>
  <SelectTrigger>
    <SelectValue placeholder="SeÃ§iniz" />
  </SelectTrigger>
  <SelectContent>
    <SelectItem value="option1">SeÃ§enek 1</SelectItem>
    <SelectItem value="option2">SeÃ§enek 2</SelectItem>
  </SelectContent>
</Select>
```

## âœ… UI Component StandartlarÄ±

### KullanÄ±lmasÄ± Gereken Component'ler

1. **shadcn/ui + Radix UI** komponentlerini kullan
2. Native HTML elementler yerine her zaman UI component'lerini tercih et
3. TutarlÄ± gÃ¶rÃ¼nÃ¼m iÃ§in tÃ¼m form elementlerinde aynÄ± component'leri kullan

### Component Listesi

- **Button**: `@/components/ui/button`
- **Input**: `@/components/ui/input`
- **Select**: `@/components/ui/select` (Radix UI)
- **Dialog**: `@/components/ui/dialog`
- **AlertDialog**: `@/components/ui/alert-dialog`
- **Toast**: `@/hooks/use-toast`
- **Card**: `@/components/ui/card`
- **Table**: `@/components/ui/table`
- **Badge**: `@/components/ui/badge`
- **Tabs**: `@/components/ui/tabs`

## ğŸ¨ Stil ve Formatlar

### Tailwind CSS
- Tailwind class'larÄ±nÄ± kullan, inline style'dan kaÃ§Ä±n
- Responsive design iÃ§in breakpoint'leri kullan: `sm:`, `md:`, `lg:`, `xl:`
- Dark mode desteÄŸi iÃ§in `dark:` prefix'ini kullan

### TÃ¼rkÃ§e Metin KullanÄ±mÄ±
- TÃ¼m kullanÄ±cÄ± arayÃ¼zÃ¼ metinleri TÃ¼rkÃ§e olmalÄ±
- Kod iÃ§i deÄŸiÅŸken ve fonksiyon isimleri Ä°ngilizce
- Comment'ler TÃ¼rkÃ§e veya Ä°ngilizce olabilir

## ğŸ” GÃ¼venlik StandartlarÄ±

### Authentication & Authorization
```typescript
// Her API request'inde token kontrolÃ¼
const token = localStorage.getItem('token');
if (!token) {
  router.push('/login');
  return;
}

// Backend'de JWT verification
@UseGuards(JwtAuthGuard)
```

### Data Validation
```typescript
// Frontend'de form validation
const formSchema = z.object({
  email: z.string().email('GeÃ§erli email giriniz'),
  password: z.string().min(6, 'En az 6 karakter'),
});

// Backend'de DTO validation
import { IsEmail, IsNotEmpty, MinLength } from 'class-validator';

export class LoginDto {
  @IsEmail()
  email: string;

  @IsNotEmpty()
  @MinLength(6)
  password: string;
}
```

### Sensitive Data
- Password'leri hiÃ§bir zaman log'lama
- API response'larÄ±nda hassas bilgileri exclude et
- Environment variables iÃ§in `.env` kullan

## ğŸ“¦ State Management

### Client State
```typescript
// React hooks ile local state
const [data, setData] = useState<Type>([]);

// Context API ile global state
const { user, setUser } = useAuth();
```

### Server State
```typescript
// API Ã§aÄŸrÄ±larÄ± iÃ§in async/await
try {
  const response = await api.getData();
  setData(response);
} catch (error) {
  toast({
    title: "Hata",
    description: "Veri yÃ¼klenirken hata oluÅŸtu",
    variant: "destructive",
  });
}
```

## ğŸ—„ï¸ Database & Backend

### Prisma Usage
```typescript
// Ä°liÅŸkileri dahil et
const user = await prisma.user.findUnique({
  where: { id },
  include: {
    students: true,
    school: true,
  },
});

// Transaction'lar iÃ§in
await prisma.$transaction(async (tx) => {
  await tx.user.update(...);
  await tx.school.update(...);
});
```

### API Response Format
```typescript
// BaÅŸarÄ±lÄ± response
return {
  success: true,
  data: result,
  message: 'Ä°ÅŸlem baÅŸarÄ±lÄ±',
};

// Hata response
throw new HttpException({
  success: false,
  message: 'Hata mesajÄ±',
  error: error.message,
}, HttpStatus.BAD_REQUEST);
```

## ğŸ§ª Error Handling

### Frontend Error Handling
```typescript
try {
  await apiCall();
  toast({
    title: "BaÅŸarÄ±lÄ±",
    description: "Ä°ÅŸlem tamamlandÄ±",
  });
} catch (error) {
  console.error('Operation failed:', error);
  toast({
    title: "Hata",
    description: error.message || "Ä°ÅŸlem sÄ±rasÄ±nda hata oluÅŸtu",
    variant: "destructive",
  });
}
```

### Backend Error Handling
```typescript
try {
  // Operation
} catch (error) {
  throw new HttpException(
    'AÃ§Ä±klayÄ±cÄ± hata mesajÄ±',
    HttpStatus.INTERNAL_SERVER_ERROR,
  );
}
```

## ğŸ“ File Organization

### Frontend Structure
```
src/
  app/
    dashboard/
      [feature]/
        page.tsx          # Route page
  components/
    [feature]/
      Component.tsx       # Feature components
    ui/
      component.tsx       # Reusable UI components
  lib/
    api/
      [feature].ts        # API calls
    utils.ts              # Utility functions
  hooks/
    use-[feature].ts      # Custom hooks
```

### Backend Structure
```
src/
  [feature]/
    [feature].module.ts
    [feature].controller.ts
    [feature].service.ts
    dto/
      create-[feature].dto.ts
      update-[feature].dto.ts
```

## ğŸ”„ API Patterns

### RESTful Endpoints
```
GET    /api/[resource]           # List
GET    /api/[resource]/:id       # Get one
POST   /api/[resource]           # Create
PATCH  /api/[resource]/:id       # Update
DELETE /api/[resource]/:id       # Delete
```

### Request/Response
```typescript
// Request with proper types
interface CreateUserRequest {
  name: string;
  email: string;
  role: UserRole;
}

// Response with proper structure
interface ApiResponse<T> {
  success: boolean;
  data?: T;
  message?: string;
  error?: string;
}
```

## ğŸ¯ Performance Optimization

### React Optimization
```typescript
// Memoization
const memoizedValue = useMemo(() => computeExpensiveValue(a, b), [a, b]);

// Callback memoization
const memoizedCallback = useCallback(() => {
  doSomething(a, b);
}, [a, b]);
```

### Database Optimization
```typescript
// Select only needed fields
const users = await prisma.user.findMany({
  select: {
    id: true,
    name: true,
    email: true,
  },
});

// Use pagination
const users = await prisma.user.findMany({
  skip: (page - 1) * pageSize,
  take: pageSize,
});
```

## ğŸ“ Code Documentation

### Component Documentation
```typescript
/**
 * User edit modal component
 * 
 * @param userId - The ID of the user to edit
 * @param onSuccess - Callback when edit is successful
 * @returns Modal component
 */
export function EditUserModal({ userId, onSuccess }: Props) {
  // Implementation
}
```

### Complex Logic Documentation
```typescript
// Ã–ÄŸrencilerin sÄ±nÄ±f ortalamasÄ±nÄ± hesapla
// 1. TÃ¼m Ã¶ÄŸrenci notlarÄ±nÄ± getir
// 2. Her ders iÃ§in ortalamayÄ± hesapla
// 3. Genel ortalamayÄ± dÃ¶ndÃ¼r
const calculateClassAverage = (students: Student[]) => {
  // Implementation
};
```

## ğŸš€ Deployment Checklist

- [ ] TÃ¼m testler baÅŸarÄ±lÄ±
- [ ] No console.error veya console.warn production'da
- [ ] Environment variables doÄŸru ayarlanmÄ±ÅŸ
- [ ] Database migration'larÄ± Ã§alÄ±ÅŸtÄ±rÄ±lmÄ±ÅŸ
- [ ] Build errors yok
- [ ] Type errors yok
- [ ] Security vulnerabilities check edilmiÅŸ

## ğŸ” Code Review Checklist

Agent'lar kod deÄŸiÅŸikliÄŸi yaptÄ±ÄŸÄ±nda bu kontrolleri yap:

- [ ] TutarlÄ±lÄ±k: Proje standartlarÄ±na uygun mu?
- [ ] GÃ¼venlik: GÃ¼venlik aÃ§Ä±ÄŸÄ± var mÄ±?
- [ ] Performance: Optimizasyon gerektiriyor mu?
- [ ] Type Safety: TypeScript type'larÄ± doÄŸru mu?
- [ ] Error Handling: Hata yakalama var mÄ±?
- [ ] UI/UX: KullanÄ±cÄ± dostu mu?
- [ ] Documentation: Yeterli aÃ§Ä±klama var mÄ±?

---

**Not**: Bu kurallar projenin geliÅŸimine gÃ¶re gÃ¼ncellenecektir. Yeni pattern'lar veya best practice'ler eklenebilir.
